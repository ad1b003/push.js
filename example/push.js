async function pushContent(t,e,n){const c=await fetch(t),r=await c.text(),i=await extract(r),a=document.querySelector(e);a.classList.remove("slide-in"),a.classList.remove("slide-out"),a.innerHTML=i,await makeTheScriptsRun(a),a.classList.add(n)}async function extract(t){return(await/<body[^>]*>((.|[\n\r])*)<\/body>/im.exec(t))[1]}function replaceScript(t){t.parentElement.replaceChild(cloneScript(t),t)}function cloneScript(t){const e=document.createElement("script");e.innerText=t.textContent;let n,c=-1,r=t.attributes;for(;++c<r.length;)e.setAttribute((n=r[c]).name,n.value);return e}async function makeTheScriptsRun(t=document.body){Array.from(document.getElementsByTagName("script")).forEach((e=>{e.parentElement===t&&replaceScript(e)}))}document.querySelectorAll("[push]").forEach((t=>{const e=t.getAttribute("push");let n=t.getAttribute("push-target"),c=t.getAttribute("transition");t.addEventListener("click",(function(){""!==e&&(n=null!==n?n:"body",c=null!==c?c:"slide-in",pushContent(e,n,c))}))}));
