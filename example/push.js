async function pushContent(t,e,n){const r=await fetch(t),c=await r.text(),a=await extract(c),i=document.querySelector(e);i.classList.remove("slide-in"),i.classList.remove("slide-out"),i.innerHTML=a,await makeTheScriptsRun(i),i.classList.add(n)}async function extract(t){return(await/<body[^>]*>((.|[\n\r])*)<\/body>/im.exec(t))[1]}function replaceScript(t){t.parentElement.replaceChild(cloneScript(t),t)}function cloneScript(t){const e=document.createElement("script");e.innerText=t.textContent;let n,r=-1,c=t.attributes;for(;++r<c.length;)e.setAttribute((n=c[r]).name,n.value);return e}async function makeTheScriptsRun(t=document.body){Array.from(document.getElementsByTagName("script")).forEach((e=>{e.parentElement===t&&replaceScript(e)}))}document.querySelectorAll("[push]").forEach((t=>{const e=t.getAttribute("push");let n=t.getAttribute("push-target"),r=t.getAttribute("transition");t.addEventListener("click",(function(c){"a"===t.tagName.toLowerCase&&c.preventDefault(),""!==e&&(n=null!==n?n:"body",r=null!==r?r:"slide-in",pushContent(e,n,r))}))}));
